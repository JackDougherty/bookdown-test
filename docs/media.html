<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Media Tests | Bookdown test</title>
  <meta name="description" content="1 Media Tests | Bookdown test" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Media Tests | Bookdown test" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://jackdougherty.github.io/bookdown-test" />
  
  
  <meta name="github-repo" content="jackdougherty/bookdown-test" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Media Tests | Bookdown test" />
  <meta name="twitter:site" content="@doughertyjack" />
  
  

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="and contributors" />


<meta name="date" content="2020-01-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="copyright-with-open-license.html"/>
<link rel="next" href="notes.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<script src="libs/elevate-section-attrs-2.0/elevate-section-attrs.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script>
$(document).ready(function() {
  $("#fig\\:1600s-otl-town-borders~iframe").attr("height", "600px");
  $("#fig\\:1910-otl-home-value~iframe").attr("height", "600px");
  // similarly you can change heights for other iframes
  $('iframe').on('load', function() {
     $('iframe').contents().find('video').removeAttr('autoplay');
   })
})
</script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Bookdown test</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="authors-and-contributors.html"><a href="authors-and-contributors.html"><i class="fa fa-check"></i>Authors and Contributors</a></li>
<li class="chapter" data-level="" data-path="copyright-with-open-license.html"><a href="copyright-with-open-license.html"><i class="fa fa-check"></i>Copyright with Open License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="media.html"><a href="media.html"><i class="fa fa-check"></i><b>1</b> Media Tests</a></li>
<li class="chapter" data-level="2" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>2</b> Sample Text with Notes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="subchapter.html"><a href="subchapter.html"><i class="fa fa-check"></i><b>2.1</b> Sample subchapter</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Image.html"><a href="Image.html"><i class="fa fa-check"></i><b>3</b> Image testing</a></li>
<li class="chapter" data-level="4" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>4</b> Bibliography</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bookdown test</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="media" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Media Tests</h1>
<p>Another minor change. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="citation"><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></span></p>
<div id="question" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Question</h4>
<p>How to embed video stream from CT Digital Archives into Bookdown, WITHOUT autoplay, regardless of whether the user’s browser is set to block autoplay?</p>
<p><strong>BEFORE TESTING</strong>: TEST in both Firefox and Chrome for auto-play issue. Make sure that your browser settings do NOT block autoplay content by default, since we cannot ensure that users will have same browser settings as developers.</p>
<div id="best-solution-so-far-with-no-autoplay-youtube-video-selected-clip-iframe-in-web-edition-static-image-in-pdf-edition-caption-and-footnote-to-full-video-at-ctda" class="section level5 unnumbered" number="">
<h5 class="unnumbered" number="">Best solution so far (with no autoplay): YouTube video (selected clip) iframe in web edition, static image in PDF edition, caption and footnote to full video at CTDA</h5>

<div class="figure"><span id="fig:youtube-sample-video"></span>
<iframe src="https://www.youtube.com/embed/NuWg9Jrkrpw?start=64" width="672" height="400px">
</iframe>
<p class="caption">
Figure 1: Here’s a sample YouTube caption, with option to add Markdown links and footnote to full video at CTDA.
</p>
</div>
<p>Upload full video to CTDA for historical preservation, and insert only a short video clip of relevant portion to YouTube (looks cleaner) or Vimeo, then insert the latter in Bookdown with iframe. Since YouTube/Vimeo clips do NOT autoplay, this will work with R code-chunk method above.</p>
</div>
</div>
<div id="issue-background" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Issue Background</h4>
<p>Here is an oral history video as displayed on the CTDA site, which does NOT autoplay:</p>
<p><a href="https://collections.ctdigitalarchive.org/islandora/object/120002:172" class="uri">https://collections.ctdigitalarchive.org/islandora/object/120002:172</a></p>
<p>Here is the CTDA MP4 video stream for that object, which runs AUTOPLAY in Chrome and FFox for Mac (and perhaps other browsers). CTDA says there is no setting to turn off autoplay from datastreams</p>
<p><a href="https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4" class="uri">https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4</a></p>
<p>The stream above also works with this “view” ending:</p>
<p><a href="https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4/view" class="uri">https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4/view</a></p>
</div>
<div id="trying-iframe-solution" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Trying iframe solution</h4>
<p>Here is Bookdown code-chunk that displays CTDA video in web edition, static image in PDF edition, BUT CANNOT TURN OFF AUTOPLAY using the iframe method, even if I add “?autoplay=0” or “?autoplay=false” to the end of the src string, as suggested in Stackoverflow further below.</p>

<div class="figure"><span id="fig:ctda-sample-video"></span>
<iframe src="https://collections.ctdigitalarchive.org/islandora/object/120002:172/datastream/MP4?autoplay=false" width="672" height="400px">
</iframe>
<p class="caption">
Figure 2: Here’s a sample CTDA video caption, with option to add Markdown link and footnote.
</p>
</div>
<p>Question: is there a way to add a “no autoplay” command to the iframe through jQuery in the custom-script.html?</p>
</div>
<div id="trying-html5-video-tag-solution" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Trying HTML5 video tag solution</h4>
<p>Here’s a solution using the <a href="https://www.w3schools.com/tags/tag_video.asp">HTML5 video tag</a>, which simply says NOT to insert “autoplay”.</p>
<video width="640" height="360" controls>
<source src="https://collections.ctdigitalarchive.org/islandora/object/120002:191/datastream/MP4" type="video/mp4">
</video>
<p>The HMTL5 video tag solution stops autoplay, but it is NOT ideal for Bookdown-generated books because:</p>
<ul>
<li>Bookdown/knitr does not <em>appear</em> to support the HMTL 5 video tag in the same way as it supports knitr::include_url. I could submit a request to Bookdown to support HTML5 video tag, but it’s not likely to happen soon….</li>
<li>This means that I cannot use Bookdown built-in support for figures using the HMTL5 video tag, such as:
<ul>
<li>the if-else statement in the R code-chunk that places the interactive iframe in HTML and the static floating image in the PDF, but the same caption for both</li>
<li>figure auto-numbering, such as Figure 1.2, 1.3, etc.</li>
</ul></li>
</ul>
</div>
<div id="trying-iframe-solution-with-short-video-clip-stored-locally-with-custom-script---but-it-autoplays" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Trying iframe solution with short video clip, stored locally, with custom script - but it autoplays</h4>

<div class="figure"><span id="fig:sample-clip"></span>
<iframe src="images/2011-bernstein-demo-clip.mp4" width="672" height="400px">
</iframe>
<p class="caption">
Figure 3: Here’s a sample local video clip caption, with option to add Markdown link and footnote.
</p>
</div>
</div>
<div id="example-of-vimeo-video-clip-in-web-edition-no-autoplay-with-static-image-in-pdf-edition" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">Example of Vimeo video clip in web edition (no autoplay), with static image in PDF edition,</h4>

<div class="figure"><span id="fig:vimeo-sample-vimeo"></span>
<iframe src="https://player.vimeo.com/video/27299734" width="672" height="400px">
</iframe>
<p class="caption">
Figure 4: Here’s a sample Vimeo caption, with option to add Markdown links and footnote.
</p>
</div>
</div>
<div id="more-resources" class="section level4 unnumbered" number="">
<h4 class="unnumbered" number="">More resources</h4>
<p>See Stackoverflow discussions about HTML iframe, HTML5 video, and autoplay:</p>
<p><a href="https://stackoverflow.com/questions/49256942/how-to-disable-autoplay-video-in-iframe" class="uri">https://stackoverflow.com/questions/49256942/how-to-disable-autoplay-video-in-iframe</a>
and
<a href="https://stackoverflow.com/questions/31956221/how-to-disable-auto-play-for-local-video-in-iframe" class="uri">https://stackoverflow.com/questions/31956221/how-to-disable-auto-play-for-local-video-in-iframe</a></p>
<p>See Google Chrome Developer autoplay policy change in April 2018:</p>
<p><a href="https://developers.google.com/web/updates/2017/09/autoplay-policy-changes" class="uri">https://developers.google.com/web/updates/2017/09/autoplay-policy-changes</a></p>
<p>See Firefox Developer note for Video HTML5 autoplay:</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" class="uri">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video</a></p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Robert Harvey Whitten, <em>West Hartford Zoning: Report to the Zoning Commission on the Zoning of West Hartford</em> (West Hartford, Conn: Zoning Commission, 1924), <a href="http://magic.lib.uconn.edu/magic_2/raster/37840/hdimg_37840_155_1924_unkn_CSL_1_p.pdf" role="doc-biblioref">http://magic.lib.uconn.edu/magic_2/raster/37840/hdimg_37840_155_1924_unkn_CSL_1_p.pdf</a>.<a href="media.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="copyright-with-open-license.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="notes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jackdougherty/bookdown-test/edit/master/1-chapter.Rmd",
"text": "Edit on GitHub"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-test.pdf", "bookdown-test.epub", "bookdown-test.mobi", "bookdown-test.docx"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
